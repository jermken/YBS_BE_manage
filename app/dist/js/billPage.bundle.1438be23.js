(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{149:function(t,e,a){"use strict";a.r(e);var o=a(305),i=a(174);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);a(257);var l=a(10),r=Object(l.a)(i.default,o.a,o.b,!1,null,null,null);r.options.__file="index.vue",e.default=r.exports},174:function(t,e,a){"use strict";a.r(e);var o=a(175),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e.default=i.a},175:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(a(61)),i=a(36),n=l(a(256));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Bill",components:{AuditorDialog:n.default},data:function(){return{queryInfo:{name:"",date:"2018-09-09"},tableData:[{id:1,name:"李四李四",date:"2018-09-08 12:34:50",project:[{title:"洗脸"},{title:"美甲"},{title:"小气泡"},{title:"碧波庭"}],total:"2000.00",card_minu:"500.00",pay_amount:"1500.00",no_pay:"0",status:"1",pay_type:[{title:"现金"}],desc:"扣卡金额50元扣卡金额50元扣卡金额50元"}],page:1,pageSize:10,statusType:{1:{type:"warning",title:"待审核"},2:{type:"success",title:"已通过"},3:{type:"danger",title:"不通过"}},auditorDialogConf:{visible:!1,title:"消费单审核"}}},computed:(0,o.default)({},(0,i.mapGetters)(["globalSize"]),{isShowPagination:function(){return this.total>this.pageSize}}),methods:{queryData:function(){},fetchData:function(){},pageChangeEvent:function(){},toAuditor:function(t){this.auditorDialogConf.visible=!0,this.auditorId=t,console.log(t,"审核中")},auditor:function(t){var e={id:this.auditorId,status:"1"};e.status=t?"2":"3",console.log(e),this.auditorDialogConf.visible=!1,this.fetchData()},closedAuditorDialog:function(){this.auditorDialogConf.visible=!1}}}},176:function(t,e,a){"use strict";a.r(e);var o=a(177),i=a.n(o);for(var n in o)"default"!==n&&function(t){a.d(e,t,function(){return o[t]})}(n);e.default=i.a},177:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return t&&t.__esModule?t:{default:t}}(a(61)),i=a(36);e.default={name:"AuditorDialog",props:{config:{visible:!1,title:""}},computed:(0,o.default)({},(0,i.mapGetters)(["globalSize"]),{dialogShow:function(){return this.config.visible}}),methods:{cancelEvent:function(){this.$emit("closed")},agree:function(){this.$emit("auditor",!0)},disAgree:function(){this.$emit("auditor",!1)},beforeClose:function(){this.$emit("closed")}}}},178:function(t,e,a){},256:function(t,e,a){"use strict";a.r(e);var o=a(332),i=a(176);for(var n in i)"default"!==n&&function(t){a.d(e,t,function(){return i[t]})}(n);var l=a(10),r=Object(l.a)(i.default,o.a,o.b,!1,null,null,null);r.options.__file="auditor.vue",e.default=r.exports},257:function(t,e,a){"use strict";var o=a(178);a.n(o).a},305:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bill-page"},[a("div",{staticClass:"page-form-wrapper no-tab"},[a("el-form",{attrs:{inline:!0,"label-suffix":":",size:t.globalSize,mode:t.queryInfo}},[a("el-form-item",{attrs:{label:"消费日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:t.queryInfo.date,callback:function(e){t.$set(t.queryInfo,"date",e)},expression:"queryInfo.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"客户姓名"}},[a("el-input",{attrs:{placeholder:"请输入客户姓名"},model:{value:t.queryInfo.name,callback:function(e){t.$set(t.queryInfo,"name",e)},expression:"queryInfo.name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.queryData}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("div",{staticClass:"page-content-wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",size:t.globalSize,data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"date",label:"消费日期",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"project",label:"消费项目",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.project,function(e){return a("el-tag",{key:e.title,attrs:{size:"mini"}},[t._v(t._s(e.title))])})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"total",label:"消费总额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"card_minu",label:"扣卡金额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_amount",label:"收纳金额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"no_pay",label:"未付金额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pay_type",label:"付款方式",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.pay_type,function(e){return a("el-tag",{key:e.title,attrs:{size:"mini"}},[t._v(t._s(e.title))])})}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t.statusType[e.row.status].type,size:t.globalSize}},[t._v(t._s(t.statusType[e.row.status].title))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{content:e.row.desc,trigger:"hover",width:"150",placement:"top"}},[a("div",{staticClass:"bill-desc",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.desc))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"action",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:t.globalSize},on:{click:function(a){t.toAuditor(e.row.id)}}},[t._v("审核")])]}}])})],1),t._v(" "),t.isShowPagination?a("div",{staticClass:"pagination-wrapper"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.tableData.length,"page-size":t.pageSize,"pager-count":7,"current-page":t.page},on:{"current-change":t.pageChangeEvent}})],1):t._e()],1),t._v(" "),a("auditor-dialog",{attrs:{config:t.auditorDialogConf},on:{auditor:t.auditor,closed:t.closedAuditorDialog}})],1)},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})},332:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{"close-on-click-modal":!1,visible:t.dialogShow,title:t.config.title,width:"500px","before-close":t.beforeClose},on:{"update:visible":function(e){t.dialogShow=e}}},[a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.globalSize},on:{click:t.cancelEvent}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{size:t.globalSize,type:"primary"},on:{click:t.disAgree}},[t._v("不通过")]),t._v(" "),a("el-button",{attrs:{size:t.globalSize,type:"primary"},on:{click:t.agree}},[t._v("通过")])],1)])},i=[];a.d(e,"a",function(){return o}),a.d(e,"b",function(){return i})}}]);